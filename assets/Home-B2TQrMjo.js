import{L as P,n as H,s as A,o as Y,p as G,F as J}from"./User-BGMk0TC4.js";import{B as S,M as F,r as h,ac as R,D as _,E as y,F as e,g as a,O as n,J as C,R as v,A as K,ap as Q,S as $,K as z,Q as p,H as U,L as j,l as W}from"./index-DRkaJlvC.js";import{I as q,k as B,n as E}from"./index-B1kXxv-8.js";import{_ as T,F as V}from"./index-Di5zfwao.js";import{S as X,a as Z,C as ee}from"./index-SvSicEu8.js";import{B as L}from"./index-Ce82sHUd.js";import"./omit-f96Oznw2.js";import"./vnode--2Vkbv_C.js";import"./index-DpT_JXnx.js";import"./collapseMotion-DnQYYeHb.js";import"./styleChecker-CMw1WS_Y.js";import"./colors-DblmAcNW.js";import"./CheckOutlined-lXluuqkb.js";const te=""+new URL("index-node-map-bg.dd4c11cd-4nmi0YCr.png",import.meta.url).href,se=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"登陆注册")],-1),ae={class:"mt-8"},le=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),oe={class:"mt-6"},ie={action:"#",method:"POST",class:"space-y-6"},ne=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"邮箱",-1),re={class:"space-y-1"},ue=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"密码",-1),ce=e("div",{class:"flex items-center justify-between"},null,-1),de={class:"flex font-black justify-center items-center gap-5"},me=e("p",{class:"text-[#8c8c8c]"},"还没账号?",-1),_e={__name:"Login",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(w){const u=S(),o=F(),f=h(),i=h({username:"",password:""}),d=R(w,"page"),t={username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}]},m=()=>{f.value.validate().then(()=>{P(i.value.username,i.value.password).then(x=>{v.success("登陆成功"),o.Set_Token(x.data.auth_data),u.push({name:"Dashboard"})})})};return(x,l)=>{const s=q,g=T,b=B,k=V;return _(),y(C,null,[se,e("div",ae,[a(k,{ref_key:"formRef",ref:f,model:i.value,rules:t},{default:n(()=>[le,e("div",oe,[e("form",ie,[e("div",null,[ne,a(g,{name:"username"},{default:n(()=>[a(s,{value:i.value.username,"onUpdate:value":l[0]||(l[0]=r=>i.value.username=r)},null,8,["value"])]),_:1})]),e("div",re,[ue,a(g,{name:"password"},{default:n(()=>[a(b,{value:i.value.password,"onUpdate:value":l[1]||(l[1]=r=>i.value.password=r)},null,8,["value"])]),_:1})]),ce,e("div",null,[e("p",{onClick:m,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 登陆")]),e("div",de,[me,e("p",{onClick:l[2]||(l[2]=r=>d.value=2),class:"cursor-pointer text-[#40a9ff]"},"立即注册"),e("p",{onClick:l[3]||(l[3]=r=>d.value=3),class:"cursor-pointer text-[#40a9ff]"},"忘记密码")])])])]),_:1},8,["model"])])],64)}}},fe=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"加入我们")],-1),pe={class:"mt-8"},ve=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),ge={class:"mt-6"},he={class:"space-y-6"},xe=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p("邮箱")],-1),ye={class:"flex items-center gap-x-4"},we={key:0,class:"space-y-1"},be=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p("验证码")],-1),ke={class:"space-y-1"},$e=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p("密码")],-1),je={class:"space-y-1"},Ce={for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},Ue={key:0,class:"text-red-500"},Se={class:"space-y-1"},Re=e("a",{target:"_blank",href:"http://localhost:8080",class:"font-black hover:text-blue-600"},"服务条款",-1),qe={class:"flex items-center justify-center font-black gap-5"},Be=e("p",{class:"text-[#8c8c8c]"},"已经有帐户？",-1),Te={__name:"Register",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(w){const u=S(),o=K(),f=F(),i=R(w,"page"),d=h({username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}],code:[{required:!1,message:"请填写邀请码",trigger:"change"}]}),t=h({username:"",password:"",email_whitelist_suffix:0,email_whitelist_suffix_value:"",is_email_verify:0,email_code:"",is_recaptcha:!1,recaptcha_site_key:"",code:"",tos_url:"",checked:!1,email(){return this.username+this.email_whitelist_suffix_value},EmailVerify(){if(this.username.length<=2){v.warn("请填写正确的邮箱");return}A(this.email()).then(l=>{v.success("发送成功")}).catch(l=>{let s=l.data.message;s==="The given data was invalid."&&(s="请检查邮箱是否正确"),v.error(s)})}});Q(()=>{t.value.code=o.query.code,H().then(l=>{t.value.email_whitelist_suffix=l.data.email_whitelist_suffix,t.value.is_email_verify=l.data.is_email_verify,d.value.code[0].required=l.data.is_invite_force===1,t.value.email_whitelist_suffix!==0&&(delete d.value.username,t.value.email_whitelist_suffix=t.value.email_whitelist_suffix.map(s=>"@"+s),t.value.email_whitelist_suffix_value=t.value.email_whitelist_suffix[0])})});const m=h(),x=()=>{m.value.validate().then(()=>{if(!t.value.checked)return v.warn("请同意服务条款");if(t.value.username.length===0)return v.warn("请填写邮箱地址");Y(t.value.email(),t.value.password,t.value.code,t.value.email_code).then(l=>{v.success("注册成功"),f.Set_Token(l.data.auth_data),u.push({name:"Dashboard"})}).catch(l=>{let s=l.data.message;s==="The given data was invalid."&&(s="请检查邮箱或密码是否正确"),v.error(s)})})};return(l,s)=>{const g=q,b=X,k=Z,r=T,M=L,D=E,I=B,N=ee,O=V;return _(),y(C,null,[fe,e("div",pe,[a(O,{ref_key:"formRef",ref:m,model:t.value,rules:d.value},{default:n(()=>[ve,e("div",ge,[e("form",he,[e("div",null,[xe,a(r,{name:"username"},{default:n(()=>[e("div",ye,[a(g,{value:t.value.username,"onUpdate:value":s[0]||(s[0]=c=>t.value.username=c),placeholder:"邮箱"},null,8,["value"]),t.value.email_whitelist_suffix!==0?(_(),$(k,{key:0,ref:"select",value:t.value.email_whitelist_suffix_value,"onUpdate:value":s[1]||(s[1]=c=>t.value.email_whitelist_suffix_value=c),style:{width:"120px"}},{default:n(()=>[(_(!0),y(C,null,z(t.value.email_whitelist_suffix,c=>(_(),$(b,{value:c},{default:n(()=>[p(U(c),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])):j("",!0)])]),_:1})]),t.value.is_email_verify===1?(_(),y("div",we,[be,a(D,{compact:""},{default:n(()=>[a(g,{value:t.value.email_code,"onUpdate:value":s[2]||(s[2]=c=>t.value.email_code=c),style:{width:"calc(80%)"}},null,8,["value"]),a(M,{onClick:s[3]||(s[3]=c=>t.value.EmailVerify()),type:"primary"},{default:n(()=>[p("发送")]),_:1})]),_:1})])):j("",!0),e("div",ke,[$e,a(r,{name:"password"},{default:n(()=>[a(I,{value:t.value.password,"onUpdate:value":s[4]||(s[4]=c=>t.value.password=c),placeholder:"密码"},null,8,["value"])]),_:1})]),e("div",je,[e("label",Ce,[d.value.code[0].required?(_(),y("span",Ue,"*")):j("",!0),p("邀请码")]),a(r,{name:"code"},{default:n(()=>[a(g,{value:t.value.code,"onUpdate:value":s[5]||(s[5]=c=>t.value.code=c),placeholder:"邀请码（选填）"},null,8,["value"])]),_:1})]),e("div",Se,[a(N,{checked:t.value.checked,"onUpdate:checked":s[6]||(s[6]=c=>t.value.checked=c)},{default:n(()=>[p("我已阅读并同意 "),Re]),_:1},8,["checked"])]),e("div",null,[e("p",{onClick:x,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 立即注册")]),e("div",qe,[Be,e("p",{class:"cursor-pointer text-[#0b7fe9]",onClick:s[7]||(s[7]=c=>i.value=1)},"登 录")])])])]),_:1},8,["model","rules"])])],64)}}},Ve=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"忘记密码")],-1),Fe={class:"mt-8"},Ee=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),Le={class:"mt-6"},Me={action:"#",method:"POST",class:"space-y-6"},De=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p(" 邮箱")],-1),Ie={class:"space-y-1"},Ne=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p(" 验证码")],-1),Oe={class:"space-y-1"},Pe=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),p(" 密码")],-1),He=e("div",{class:"flex items-center justify-between"},null,-1),Ae={class:"flex font-black justify-center items-center gap-5"},Ye=e("p",{class:"text-[#8c8c8c]"},"已经有帐户？",-1),Ge={__name:"ForgetPassword",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(w){S();const u=h(),o=h({username:"",password:"",code:"",send_email(){G(this.username).then(t=>{v.success("发送成功")})}}),f=R(w,"page"),i={username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],code:[{required:!0,message:"请填写验证码",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}]},d=()=>{u.value.validate().then(()=>{J(o.value.username,o.value.password,o.value.code).then(t=>{v.success("重置成功 快去登陆吧"),f.value=1})})};return(t,m)=>{const x=q,l=T,s=L,g=E,b=B,k=V;return _(),y(C,null,[Ve,e("div",Fe,[a(k,{ref_key:"formRef",ref:u,model:o.value,rules:i},{default:n(()=>[Ee,e("div",Le,[e("form",Me,[e("div",null,[De,a(l,{name:"username"},{default:n(()=>[a(x,{value:o.value.username,"onUpdate:value":m[0]||(m[0]=r=>o.value.username=r)},null,8,["value"])]),_:1})]),e("div",Ie,[Ne,a(l,{name:"code"},{default:n(()=>[a(g,{compact:""},{default:n(()=>[a(x,{value:o.value.code,"onUpdate:value":m[1]||(m[1]=r=>o.value.code=r),style:{width:"calc(80%)"}},null,8,["value"]),a(s,{onClick:m[2]||(m[2]=r=>o.value.send_email()),type:"primary"},{default:n(()=>[p("发送")]),_:1})]),_:1})]),_:1})]),e("div",Oe,[Pe,a(l,{name:"password"},{default:n(()=>[a(b,{value:o.value.password,"onUpdate:value":m[3]||(m[3]=r=>o.value.password=r)},null,8,["value"])]),_:1})]),He,e("div",null,[e("p",{onClick:d,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 立即重置")]),e("div",Ae,[Ye,e("p",{onClick:m[4]||(m[4]=r=>f.value=1),class:"cursor-pointer text-[#40a9ff]"}," 登 录")])])])]),_:1},8,["model"])])],64)}}},Je={class:"flex flex-1 h-screen items-center justify-center"},Ke={class:"flex-1 hidden h-full relative lg:flex p-5"},Qe={class:"bg-[#1890ff] w-full h-full rounded-xl flex justify-center gap-8 flex-col items-center"},ze=e("img",{alt:"",class:"max-w-[500px]",src:te},null,-1),We={class:"text-center"},Xe={class:"text-white text-[24px] font-black"},Ze=e("p",{class:"mt-4 text-white"},"High-speed network covering the whole world",-1),et={class:"text-white"},tt={class:"flex lg:w-[40%] w-full flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none"},st={class:""},vt={__name:"Home",setup(w){const u=h(1),o=W(()=>{var f;return{title:((f=window.config)==null?void 0:f.title)||"AirBus"}});return(f,i)=>(_(),y("div",Je,[e("div",Ke,[e("div",Qe,[ze,e("div",We,[e("h4",Xe,"覆盖全球的高速网络，您的高速旅程从 "+U(o.value.title)+" 开始",1),Ze,e("p",et,"Your high-speed journey starts with "+U(o.value.title),1)])])]),e("div",tt,[e("div",st,[u.value===1?(_(),$(_e,{key:0,page:u.value,"onUpdate:page":i[0]||(i[0]=d=>u.value=d)},null,8,["page"])):u.value===2?(_(),$(Te,{key:1,page:u.value,"onUpdate:page":i[1]||(i[1]=d=>u.value=d)},null,8,["page"])):u.value===3?(_(),$(Ge,{key:2,page:u.value,"onUpdate:page":i[2]||(i[2]=d=>u.value=d)},null,8,["page"])):j("",!0)])])]))}};export{vt as default};
